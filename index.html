<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Train the Bot</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-slate-900 text-white min-h-screen p-8">

  <div class="max-w-2xl mx-auto text-center mt-12">
    <h1 class="text-4xl font-bold mb-4">Train the Bot</h1>
    <p class="text-slate-400 text-lg mb-6">Learn how AI models learn from data â€” and how bias sneaks in.</p>
    <p class="text-slate-500 text-sm mb-8">by <a href="https://github.com/svelez1129" target="_blank" class="text-cyan-400 hover:text-cyan-300 transition">svelez1129</a></p>

    <!-- Progress Tracker -->
    <div id="progress-tracker" class="bg-slate-800 p-4 rounded-lg mb-6">
      <div class="flex justify-between items-center mb-3">
        <h3 class="font-bold text-slate-300">Your Progress</h3>
        <span id="progress-text" class="text-cyan-400 font-bold">0/3 Complete</span>
      </div>
      <div class="flex gap-2">
        <div class="flex-1 h-2 bg-slate-600 rounded-full overflow-hidden">
          <div id="prog-1" class="h-full w-0 rounded-full transition-all duration-700 ease-out"></div>
        </div>
        <div class="flex-1 h-2 bg-slate-600 rounded-full overflow-hidden">
          <div id="prog-2" class="h-full w-0 rounded-full transition-all duration-700 ease-out"></div>
        </div>
        <div class="flex-1 h-2 bg-slate-600 rounded-full overflow-hidden">
          <div id="prog-3" class="h-full w-0 rounded-full transition-all duration-700 ease-out"></div>
        </div>
      </div>
      <button id="reset-progress" class="text-xs text-slate-500 hover:text-slate-300 mt-3 transition">
        Reset Progress
      </button>
    </div>

    <div class="bg-slate-800 p-6 rounded-lg mb-8 text-left">
      <h2 class="text-xl font-bold mb-3">How to Play</h2>
      <p class="text-slate-300 mb-2">1. Select images to train your AI model</p>
      <p class="text-slate-300 mb-2">2. Label each image (what category is it?)</p>
      <p class="text-slate-300">3. See how your model performs on new images it hasn't seen!</p>
    </div>

    <h2 class="text-xl font-bold mb-4">Choose a Scenario</h2>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
      <a href="scenario1-intro.html" id="card-1" class="bg-slate-800 hover:bg-slate-700 p-6 rounded-lg text-left transition border-2 border-slate-700 hover:border-cyan-500 relative">
        <div id="badge-1" class="hidden absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full font-bold">Done</div>
        <h3 class="text-lg font-bold mb-2">Scenario 1: Cats vs Dogs</h3>
        <p class="text-slate-400 text-sm">Train the model to tell cats from dogs. Watch out for color bias!</p>
      </a>

      <a href="scenario2-intro.html" id="card-2" class="bg-slate-800 hover:bg-slate-700 p-6 rounded-lg text-left transition border-2 border-slate-700 hover:border-cyan-500 relative">
        <div id="badge-2" class="hidden absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full font-bold">Done</div>
        <h3 class="text-lg font-bold mb-2">Scenario 2: Fruits vs Vegetables</h3>
        <p class="text-slate-400 text-sm">Is a tomato a fruit or vegetable? Teach the model to decide!</p>
      </a>

      <a href="scenario3-intro.html" id="card-3" class="bg-slate-800 hover:bg-slate-700 p-6 rounded-lg text-left transition border-2 border-slate-700 hover:border-cyan-500 relative">
        <div id="badge-3" class="hidden absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full font-bold">Done</div>
        <h3 class="text-lg font-bold mb-2">Scenario 3: Guess the Training Data</h3>
        <p class="text-slate-400 text-sm">Watch an AI's predictions and figure out what it was trained on!</p>
      </a>
    </div>

    <!-- View Summary Button (shown when all complete) -->
    <div id="summary-section" class="hidden">
      <a href="summary.html" class="bg-green-500 hover:bg-green-400 text-slate-900 font-semibold px-8 py-4 rounded-lg inline-block transition text-lg">
        View Your Summary
      </a>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      updateProgress();

      document.getElementById("reset-progress").addEventListener("click", function() {
        // Animate bars to empty first
        document.getElementById("prog-1").style.width = "0%";
        document.getElementById("prog-2").style.width = "0%";
        document.getElementById("prog-3").style.width = "0%";

        localStorage.removeItem("scenario1Complete");
        localStorage.removeItem("scenario2Complete");
        localStorage.removeItem("scenario3Complete");
        localStorage.removeItem("scenario1Score");
        localStorage.removeItem("scenario2Score");
        localStorage.removeItem("scenario3Score");

        // Update the rest after animation
        setTimeout(updateProgress, 100);
      });
    });

    function updateProgress() {
      const s1 = localStorage.getItem("scenario1Complete") === "true";
      const s2 = localStorage.getItem("scenario2Complete") === "true";
      const s3 = localStorage.getItem("scenario3Complete") === "true";

      const score1 = parseInt(localStorage.getItem("scenario1Score")) || 0;
      const score2 = parseInt(localStorage.getItem("scenario2Score")) || 0;
      const score3 = parseInt(localStorage.getItem("scenario3Score")) || 0;

      const perfect1 = s1 && score1 === 5;
      const perfect2 = s2 && score2 === 5;
      const perfect3 = s3 && score3 === 5;

      const completed = (s1 ? 1 : 0) + (s2 ? 1 : 0) + (s3 ? 1 : 0);

      // Update progress text
      document.getElementById("progress-text").textContent = completed + "/3 Complete";

      // Update progress bars with animation (green = perfect, yellow = completed but not perfect)
      const prog1 = document.getElementById("prog-1");
      const prog2 = document.getElementById("prog-2");
      const prog3 = document.getElementById("prog-3");

      // Set colors
      prog1.className = "h-full rounded-full transition-all duration-700 ease-out " +
        (s1 ? (perfect1 ? "bg-green-500" : "bg-yellow-500") : "");
      prog2.className = "h-full rounded-full transition-all duration-700 ease-out " +
        (s2 ? (perfect2 ? "bg-green-500" : "bg-yellow-500") : "");
      prog3.className = "h-full rounded-full transition-all duration-700 ease-out " +
        (s3 ? (perfect3 ? "bg-green-500" : "bg-yellow-500") : "");

      // Animate width after a brief delay for the animation to be visible
      setTimeout(function() {
        prog1.style.width = s1 ? "100%" : "0%";
        prog2.style.width = s2 ? "100%" : "0%";
        prog3.style.width = s3 ? "100%" : "0%";
      }, 100);

      // Update badges
      const badge1 = document.getElementById("badge-1");
      const badge2 = document.getElementById("badge-2");
      const badge3 = document.getElementById("badge-3");

      badge1.classList.toggle("hidden", !s1);
      badge2.classList.toggle("hidden", !s2);
      badge3.classList.toggle("hidden", !s3);

      // Update badge colors and text
      if (s1) {
        badge1.textContent = perfect1 ? "5/5" : score1 + "/5";
        badge1.className = "absolute top-2 right-2 text-white text-xs px-2 py-1 rounded-full font-bold " +
          (perfect1 ? "bg-green-500" : "bg-yellow-500");
      }
      if (s2) {
        badge2.textContent = perfect2 ? "5/5" : score2 + "/5";
        badge2.className = "absolute top-2 right-2 text-white text-xs px-2 py-1 rounded-full font-bold " +
          (perfect2 ? "bg-green-500" : "bg-yellow-500");
      }
      if (s3) {
        badge3.textContent = perfect3 ? "5/5" : score3 + "/5";
        badge3.className = "absolute top-2 right-2 text-white text-xs px-2 py-1 rounded-full font-bold " +
          (perfect3 ? "bg-green-500" : "bg-yellow-500");
      }

      // Update card borders for completed (green = perfect, yellow = not perfect)
      const card1 = document.getElementById("card-1");
      const card2 = document.getElementById("card-2");
      const card3 = document.getElementById("card-3");

      card1.classList.remove("border-green-500", "border-yellow-500");
      card2.classList.remove("border-green-500", "border-yellow-500");
      card3.classList.remove("border-green-500", "border-yellow-500");

      if (s1) card1.classList.add(perfect1 ? "border-green-500" : "border-yellow-500");
      if (s2) card2.classList.add(perfect2 ? "border-green-500" : "border-yellow-500");
      if (s3) card3.classList.add(perfect3 ? "border-green-500" : "border-yellow-500");

      // Show summary button if all complete
      document.getElementById("summary-section").classList.toggle("hidden", completed < 3);
    }
  </script>

</body>
</html>
